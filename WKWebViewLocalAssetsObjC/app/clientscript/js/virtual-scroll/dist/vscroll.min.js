/*!
* VScroll: Virtual Scroll Made Simple 
* Version: 1.0.0 
* Â© JaguarScript (https://www.jaguarscript.com) */
!function(e,t){"use strict";function r(e){for(var t=e.length;t--;)e[t].parentNode.removeChild(e[t])}function n(e,t,r,n){for(var o=e.slice(t,r),s=0,a=o.length;s<a;s++){var i=n.createItem(o[s],s,t,r);(s+1)%n.columns==0&&i.setAttribute("data-last-column","true"),l.appendChild(i)}return l}function o(r){var n={};return r===e?(n.scrollTop=void 0!==r.pageYOffset?r.pageYOffset:t.documentElement.scrollTop||t.body.scrollTop||0,n.clientHeight=r.innerHeight):(n.scrollTop=r.scrollTop,n.clientHeight=r.clientHeight),n}function s(r){var n=this;return n.container="object"==typeof r.container?r.container:t.querySelector(r.container),n.scrollParent=r.scrollParent?"object"==typeof r.scrollParent?r.scrollParent:n.container.closest(r.scrollParent):e,n.data=r.data,n.itemHeight=r.itemHeight||50,n.itemWidth=r.itemWidth,n.createItem=r.createItem,n.buffer=r.buffer||0,n.columns=r.columns||1,n.smartBuffer=void 0===r.smartBuffer||r.smartBuffer,n.responsive=r.responsive,n.offsetBefore=r.offsetBefore||0,n.offsetAfter=r.offsetAfter||0,n.scrollOffset=r.scrollOffset||0,n.optionsWrapper=r.wrapper,n.optionsItemsWrapper=r.itemsWrapper,n.lastStartIndex=0,n.lastEndIndex=0,n.wrapper=n.itemsWrapper=n._lastStartIndex=n._lastEndIndex=null,n._scrollEvent=function(){n.update()},n._resizeEvent=function(){n.refresh()},n.scrollParent.addEventListener("scroll",n._scrollEvent,!1),n.responsive&&e.addEventListener("resize",n._resizeEvent,!1),n.refresh(),n}var a=Array.prototype.slice,l=t.createDocumentFragment();e.Element&&!Element.prototype.closest&&(Element.prototype.closest=function(e){var t,r=(this.document||this.ownerDocument).querySelectorAll(e),n=this;do{for(t=r.length;--t>=0&&r.item(t)!==n;);}while(t<0&&(n=n.parentElement));return n}),s.prototype={update:function(){var e,t,s=this,l=o(s.scrollParent),i=Math.floor((l.scrollTop-s.offsetBefore-s.scrollOffset)/s.itemHeight)*s.columns,p=Math.ceil(l.clientHeight/s.itemHeight)*s.columns,c=Math.max(i-s.buffer,0),d=Math.min(c+p+2*s.buffer,s.data.length);if(d>s.lastEndIndex)s.itemsWrapper.appendChild(n(s.data,s.lastEndIndex,d,s)),s.lastEndIndex=d;else if(s.lastEndIndex>d){var f=s.itemsWrapper.childNodes;t=f.length,r(a.call(f,d-s.lastEndIndex)),s.lastEndIndex=d}return c>s.lastStartIndex?c-s.lastStartIndex>=s.columns&&(r(a.call(s.itemsWrapper.childNodes,0,c-s.lastStartIndex)),e=!0):s.lastStartIndex>c&&s.lastStartIndex-c>=s.columns&&(s.lastStartIndex-c>=t&&(s.lastStartIndex=c+t),s.itemsWrapper.insertBefore(n(s.data,c,s.lastStartIndex,s),s.itemsWrapper.firstChild),e=!0),e&&(s.lastStartIndex=c,s.wrapper.style.paddingTop=c*s.itemHeight/s.columns+s.offsetBefore+"px"),s},_setHeight:function(){for(var e=this,t=e.data.length,r=t*e.itemHeight;t%e.columns;)r+=e.itemHeight,t++;return e.container.style.height=r/e.columns+e.offsetBefore+e.offsetAfter+"px",e},refresh:function(e){var n=this;if(e)return n._setHeight().update();n.itemWidth&&(n.columns=Math.floor(n.container.clientWidth/n.itemWidth)),n.smartBuffer&&(n.buffer=n.columns),n._setHeight(),n.optionsWrapper?n.wrapper="object"==typeof n.optionsWrapper?n.optionsWrapper:n.container.querySelector(n.optionsWrapper):(n.optionsItemsWrapper||r(n.container.childNodes),n.wrapper=t.createElement("div"),n.wrapper.className="vscroll-wrapper",n.container.appendChild(n.wrapper)),n.optionsItemsWrapper?n.itemsWrapper="object"==typeof n.optionsItemsWrapper?n.optionsItemsWrapper:n.container.querySelector(n.optionsItemsWrapper):n.itemsWrapper=n.wrapper,n.wrapper.setAttribute("data-columns",n.columns),r(n.itemsWrapper.childNodes),n.offsetBefore&&(n.wrapper.style.paddingTop=n.offsetBefore+"px"),n.lastStartIndex=0,n.lastEndIndex=0,n.update()},destroy:function(){var t=this;if(t.destroyed)return!0;t.optionsWrapper||t.optionsItemsWrapper?(t.wrapper.style.paddingTop=null,t.wrapper.removeAttribute("data-columns"),r(t.itemsWrapper.childNodes)):r(t.container.childNodes),t.scrollParent.removeEventListener("scroll",t._scrollEvent,!1),e.removeEventListener("resize",t._resizeEvent,!1),t.container.style.height=null;for(var n in t)delete t[n];return t.destroyed=!0}},e.VScroll=s}(window,document);